<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seguimiento de Pedido | Miski Chukulati</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500&display=swap" rel="stylesheet">
<style>
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(135deg,#3b2314,#5c3b1e,#7b4c22);
  background-size:400% 400%;
  animation:bgShift 15s ease infinite;
  color:#fff8e7;
  text-align:center;
  margin:0;
  padding:20px;
}
@keyframes bgShift{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
.container{
  max-width:600px;margin:40px auto;background:rgba(255,255,255,0.1);
  padding:30px 40px;border-radius:12px;box-shadow:0 0 15px rgba(255,255,255,0.15);
  backdrop-filter:blur(6px);
}
input{
  padding:10px;border-radius:6px;border:1px solid #d4c5b2;width:100%;margin-bottom:10px;
}
button{
  background:linear-gradient(90deg,#c7a86d,#e5c99c);
  color:#3b2314;border:none;padding:12px 25px;font-size:1rem;border-radius:30px;cursor:pointer;
}
.result{margin-top:20px;text-align:left;}
</style>
</head>
<body>
<div class="container">
<h1>üîç Seguimiento de tu Pedido</h1>
<p>Ingresa tu <strong>DNI</strong> o <strong>ID de pedido</strong>:</p>
<input type="text" id="busqueda" placeholder="Ejemplo: P20251008123456 o 87654321">
<button onclick="buscarPedido()">Consultar</button>
<div id="resultado" class="result"></div>
</div>
<footer>
  <p><strong>N√∫meros 6:24</strong> ‚ÄúJehov√° te bendiga y te guarde‚Äù</p>
</footer>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbwCeQp2C4YJHqjZ8BS6Ke-99wQKdSj0vFCisJ5iYmn4RYKmRTkLKCA3FlKKFGcuzl78ww/exec";

function buscarPedido(){
  const val=document.getElementById("busqueda").value.trim();
  if(!val){alert("Por favor ingresa un ID o DNI v√°lido.");return;}
  document.getElementById("resultado").innerHTML="‚è≥ Buscando...";
  fetch(${scriptURL}?action=trackOrder&idPedido=${val}&dni=${val})
  .then(r=>r.json())
  .then(d=>{
    if(d.success){
      const o=d.order;
      document.getElementById("resultado").innerHTML=`
        <h3>üì¶ Pedido encontrado</h3>
        <p><strong>ID:</strong> ${o.idPedido}<br>
        <strong>Cliente:</strong> ${o.nombre}<br>
        <strong>Producto:</strong> ${o.producto}<br>
        <strong>Cantidad:</strong> ${o.cantidad}<br>
        <strong>Estado:</strong> ${o.estado}<br>
        <strong>Fecha:</strong> ${o.fecha}<br>
        <a href="${o.pdfUrl}" target="_blank">üìÑ Ver comprobante</a></p>`;
    } else document.getElementById("resultado").innerHTML="‚ùå Pedido no encontrado.";
  })
  .catch(()=>document.getElementById("resultado").innerHTML="‚ö†Ô∏è Error de conexi√≥n.");
}
</script>
</body>
</html>
