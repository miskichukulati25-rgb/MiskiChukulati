<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seguimiento de Pedido - Miski Chukulati</title>
<style>
body {
  font-family: Poppins, sans-serif;
  background: #fff8f2;
  text-align: center;
  padding: 30px;
}
input {
  padding: 10px;
  width: 250px;
  border-radius: 8px;
  border: 1px solid #c6a984;
}
button {
  background: #5d2a07;
  color: white;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
}
.result {
  margin-top: 20px;
}
</style>
</head>
<body>
<h1>üîç Seguimiento de tu pedido</h1>
<p>Ingresa tu c√≥digo de pedido (Ej: P20251004123045)</p>
<input type="text" id="pedidoID" placeholder="ID del pedido">
<button onclick="consultar()">Consultar</button>
<div class="result" id="resultado"></div>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbyXgSQVrT_ok6maLRBzVjXAePQk6RBTWOKbZvx64UYX4C6DCdyvR5q2Iw5BDrymeRRa/exec";

async function consultar() {
  const id = document.getElementById("pedidoID").value.trim();
  if (!id) return alert("Ingresa un ID de pedido");
  const res = await fetch(scriptURL + "?pedidoID=" + id);
  const data = await res.json();
  const div = document.getElementById("resultado");
  if (data.error) {
    div.innerHTML = "<p>‚ùå " + data.error + "</p>";
  } else {
    div.innerHTML = `
      <h3>Pedido de ${data.cliente}</h3>
      <p>Producto: ${data.producto}</p>
      <p>Cantidad: ${data.cantidad}</p>
      <p>Estado: <b>${data.estado}</b></p>
      <p><a href="${data.linkPdf}" target="_blank">üìÑ Ver comprobante PDF</a></p>
    `;
  }
}
</script>
</body>
</html>
